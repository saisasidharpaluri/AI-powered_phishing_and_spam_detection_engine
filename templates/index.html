<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhishGuard Hybrid - Security Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üõ°Ô∏è PhishGuard Hybrid</h1>
            <p class="subtitle">Advanced Dual-Dataset Security Engine</p>
        </header>

        <div class="card">
            <div class="input-section">
                <div class="input-type-selector">
                    <button id="emailBtn" class="type-btn active" onclick="switchType('email')">
                        üìß Email Analysis
                    </button>
                    <button id="urlBtn" class="type-btn" onclick="switchType('url')">
                        üîó URL Analysis
                    </button>
                </div>

                <div class="input-area">
                    <textarea 
                        id="inputText" 
                        placeholder="Enter email body or suspicious URL for instant analysis..."
                        rows="8"
                    ></textarea>
                </div>

                <button id="analyzeBtn" class="analyze-btn" onclick="analyze()">
                    Analyze Threat
                </button>
            </div>

            <div id="result" class="result-section" style="display: none;">
                <h2>Security Analysis Result</h2>
                
                <div class="security-score-container">
                    <div class="score-circle">
                        <svg width="220" height="220">
                            <defs>
                                <linearGradient id="greenGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="orangeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="redGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <circle cx="110" cy="110" r="90" class="score-bg"/>
                            <circle id="scoreCircle" cx="110" cy="110" r="90" class="score-fill"/>
                        </svg>
                        <div class="score-text">
                            <span id="scoreValue" class="score-number">0</span>
                            <span class="score-label">Security Score</span>
                        </div>
                    </div>
                </div>

                <div class="threat-info">
                    <div class="info-item">
                        <span class="info-label">Threat Level:</span>
                        <span id="threatLevel" class="info-value">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Classification:</span>
                        <span id="classification" class="info-value">-</span>
                    </div>
                </div>

                <div id="errorMsg" class="error-msg" style="display: none;"></div>
            </div>
        </div>

        <footer>
            <p>Powered by Dual-Dataset Training | Random Forest + TF-IDF + URL Feature Engineering</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
